{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["decision", "rationale", "assumptions", "risks", "alternatives"],
  "properties": {
    "decision": {"type": "string", "minLength": 1},
    "rationale": {"type": "array", "items": {"type": "string"}, "minItems": 1},
    "assumptions": {"type": "array", "items": {"type": "string"}, "minItems": 1},
    "risks": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["risk", "severity", "mitigation"],
        "properties": {
          "risk": {"type": "string"},
          "severity": {"type": "string", "enum": ["LOW", "MEDIUM", "HIGH"]},
          "mitigation": {"type": "string"}
        }
      }
    },
    "alternatives": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["option", "why_not"],
        "properties": {
          "option": {"type": "string"},
          "why_not": {"type": "string"}
        }
      }
    }
  }
}
